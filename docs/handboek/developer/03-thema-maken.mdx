---
title: Thema maken · Developer · Handboek
hide_title: true
hide_table_of_contents: false
sidebar_label: Thema maken
pagination_label: Thema maken
description: NL Design System thema maken
---

import { VideoPlayer } from "@site/src/components/VideoPlayer";
import { Paragraph, SpotlightSection } from "@utrecht/component-library-react/dist/css-module";

# NL Design System thema maken

<Paragraph lead>
  Op deze pagina wordt uitgelegd wat een thema precies is, hoe thema's werken binnen NL Design System en hoe je er zelf
  één kunt maken voor jouw organisatie.
</Paragraph>

## Wat is een NL Design System thema?

NL Design System is een verzameling van [_white label_](https://en.wikipedia.org/wiki/White-label_product) componenten dat gestyled kan worden met thema's.
Thema's zijn gestructureerde collecties van _design tokens_. Dit zijn afspraken over welke kleuren, formaten, lettertypes, etc. gebruikt mogen worden binnen de huisstijl voor een organisatie. Een NL Design System thema bevat de tokens die nodig zijn om onze componenten te stylen volgens een bepaalde huisstijl.

Deze collectie kan groot zijn of klein, afhankelijk van hoeveel uitzonderingen het bevat op de waardes uit het basisthema. Het basisthema definieert defaultwaardes voor alle tokens die nodig zijn om de NL Design System componenten een mooie en toegankelijke basisstijl te geven.

Een nieuw thema bestaat uit drie lagen:

1. **De brand-laag**. Hierin staan alle waardes over de gehele huisstijl die gebruikt mogen worden. Dit zijn bijvoorbeeld het complete palet aan kleuren, alle mogelijke diktes van borders en alle toegestane lettergroottes.
1. **De common-laag**. Hierin:
   - worden de kleuren uit de **brand** laag gekoppeld aan design tokens uit het basisthema en
   - worden algemene tokens gedefinieerd voor componenten met veel overlap zoals bijvoorbeeld formulierelementen die dezelfde achtergrondkleur hebben en headings die hetzelfde lettertype gebruiken.
1. **De componenten-laag**. Hierin staan tokens voor alle gebruikte componenten die niet onder common vallen en afwijken van de waardes uit het basisthema.

De design tokens zijn gestructureerd in een JSON-bestand volgens het [Design Tokens Format](https://tr.designtokens.org/format/). Met behulp van [Style Dictionary](https://amzn.github.io/style-dictionary/) kan dit JSON-bestand worden omgezet in CSS. Met de plugin van [Token Studio](https://tokens.studio/plugin) kan dit bestand direct worden gebruikt om onze componenten te stylen in Figma. Kijk voor meer informatie over Token Studio bij het [stappenplan voor designers](/handboek/designer/stappenplan).

## Hoe weet ik of ik een nieuw thema moet maken?

Diverse gemeentes en andere organisaties hebben al een thema gepubliceerd. Alle beschikbare themas voor NL Design System staan in onze [themes GitHub repository](https://github.com/nl-design-system/themes). Als er in de map [proprietary](https://github.com/nl-design-system/themes/tree/main/proprietary) een map staat voor jouw organisatie kun je dat thema gebruiken. Op de pagina **TODO** kun je lezen hoe dat werkt. Als er geen map staat voor jouw organisatie, dan kun je zelf een thema maken.

## Welke stappen moet ik volgen om een nieuw thema te maken?

<SpotlightSection appearance="info">
**Vereisten:** Om deze stappen te doorlopen moeten de volgende cli-tools werken in je terminal:

- [nvm](https://github.com/nvm-sh/nvm)
- [pnpm](https://pnpm.io/)
  </SpotlightSection>

We hebben ook git nodig om met de repository te werken. Je kunt zelf kiezen welke tool je hier het liefst voor gebruikt.

### Stap 1: De themes repository clonen

Een nieuw thema kun je maken door eerst de [themes repository](https://github.com/nl-design-system/themes) te clonen in een terminal of met jouw favoriete git-programma.

```sh
git clone git@github.com:nl-design-system/themes.git
```

### Stap 2: De lokale ontwikkelomgeving klaarmaken

Vervolgens installeren we de juiste versie van node met `nvm` en de dependencies met `pnpm`.

```sh
cd themes
nvm use
pnpm install
```

### Stap 3: De eerste build

Om te kijken of alles werkt kunnen we nu de eerste build draaien en alle beschikbare thema's in Storybook bekijken:

```sh
pnpm run build
pnpm run watch:storybook
```

Als alles goed werkt zou je nu Storybook moeten kunnen bekijken door naar http://localhost:6006/ te gaan in je browser.

### Stap 4: Het voorbeeldthema kopiëren en aanpassen

Je hoeft het nieuwe thema niet van de grond af aan zelf te schrijven, we kunnen beginnen met het kopiëren van het voorbeeldthema nadat je een **prefix** hebt gekozen voor je thema.

#### Een prefix kiezen

Om de thema's uit elkaar te kunnen houden hebben alle thema's hun eigen prefix. Vaak is de prefix de lowercase naam van de organisatie waar het thema voor is maar dat hoeft niet. Zolang het alleen letters en/of cijfers bevat en niet al bestaat is het goed. De prefix wordt ook gebruikt in de naam van de map waar je het voorbeeldthema naartoe kopiëert. Voordat je dat kunt doen moet je dus eerst een prefix kiezen.

We gaan er bij de volgende stappen even vanuit dat je als prefix `myorg` hebt gekozen.

```sh
cd proprietary
cp
```

## Hoe vul ik het thema met de juiste waardes voor onze huisstijl?

**TODO**

## Hoe publiceer ik mijn thema voor anderen?

**TODO**

---

---

---

Zoals beschreven in [Ontwikkel een thema voor jouw organisatie](/handboek/developer/aan-de-slag#ontwikkel-een-thema-voor-jouw-organisatie): thema's zijn technisch JSON-bestanden waarin design tokens zijn gedefinieerd. Met tooling maken we ze beschikbaar als custom properties in CSS.

## Design tokens vastleggen

Design tokens kunnen allerlei ontwerpkeuzes bevatten: kleuren, lettergroottes, afstanden en meer. Om een thema te maken vanuit een bestaande website en/of huisstijl maken we vaak een inventarisatie, met als einddoel één of meer JSON-bestanden.

### Algemeen

Meestal begint een inventarisatie bij de kleuren. Bij een bestaande site kan dat bijvoorbeeld door individuele kleuren met de developer tools te inspecteren. Met een tool als [Project Wallace](https://www.projectwallace.com/) kun je in één keer de kleuren (en meer) uit een pagina in een overzicht krijgen.

Dat hoeft niet altijd één op één. Soms valt dan op dat sommige kleuren wel erg dicht bij elkaar liggen, dan kan bijvoorbeeld de meest voorkomende gekozen worden en de rest afgerond worden, de afwijking is dan vast eerder een foutje dan een keuze.

Het kan ook zijn dat er duidelijk meerdere varianten zijn van één kleur, bijvoorbeeld drie tinten rood. Je kunt tokens noemen hoe je wilt, het is vaak handig om er iets van een systeem in aan te brengen. Soms kan dat uit een huisstijlgids worden overgenomen. Als er geen bestaand systeem is in de namen, kun je ook de kleurwaarde naar [HSL](https://hslpicker.com) converteren en dan de lightness gebruiken (de “L” uit “HSL”), zodat je bv met `rood-30`, `rood-50` en `rood-70`. Rond gerust af op hele getallen.

De kleuren zetten we uiteindelijk in een JSON-bestand (in het [Design Tokens Format](https://tr.designtokens.org/format/)):

```json title="colors.tokens.json"
{
  "organisatie": {
    "color": {
      "red": {
        "30": { "value": "#911808" },
        "50": { "value": "#f2280d" },
        "70": { "value": "#f77e6e" }
      }
    }
  }
}
```

Dat bestand kan bijvoorbeeld zo in de filestructuur staan:

```txt
├─ src
  ├─ brand
    ├─ organisatie
      ├─ colors.tokens.json
```

Binnen NL Design System gebruiken we ook design tokens voor andere designkeuzes, waaronder:

- typografie (lettertypes, groottes en gewichten)
- spacing
- focus styles

### Componenten en variabelen

Als de algemene tokens zijn gemaakt, kan er ook per component een bestand met tokens worden toegevoegd, waarin ook naar de andere beschikbare tokens kan worden verwezen, zelfs in andere organisaties. In het volgende voorbeeld wordt bijvoorbeeld in de tokens voor de `link` component van `organisatie` verwezen naar een kleur rood van `andereOrganisatie`, met de verwijzing in curly brackets:

```json title="link.tokens.json"
{
  "organisatie": {
    "link": {
      "color": { "value": "{andereOrganisatie.color.red.45}" }
    }
  }
}
```

### Meer over design tokens vastleggen

<VideoPlayer videoId="jSvjnU7oY5Y" />

## Design tokens inzetten

Zoals genoemd kunnen deze JSON-bestanden in allerlei toepassingen worden gebruikt. Bij NL Design System zorgt [Style Dictionary](https://amzn.github.io/style-dictionary) dat de tokens bruikbaar worden in CSS, door een `design-tokens.css` te genereren. Die output kan er bijvoorbeeld zo uit zien:

```css title="dist/design-tokens.css"
/**
  * Do not edit directly
  * Generated at […]
  */
.organisatie-theme {
  --organisatie-color-red-30: #911808;
  --organisatie-color-red-50: #f2280d;
  --organisatie-color-red-70: #f77e6e;
}
```

In dit bestand worden alle tokens die in het theme van deze organisatie bestaan vanuit verschillende plekken bij elkaar gezet, als custom properties. Nu kunnen ze in de CSS van deze organisatie worden gebruikt, op pagina's waar de `organisatie-theme` classname op de body staat. Er is ook een output setting waar de variabelen op `:root` worden geplaatst, voor als de HTML niet makkelijk aanpasbaar is.

[Referencing/aliasing](https://github.com/amzn/style-dictionary/tree/main/examples/advanced/referencing_aliasing) is de feature in Style Dictionary die zorgt dat tokens als variabele kunnen worden ingezet, zoals we in het vorige voorbeeld deden met tokens uit een andere organisatie. In de NL Design System configuratie worden alle tokenbestanden meegenomen (met `**/*`). Ook worden de gebruikte verwijzingen opgenomen als verwijzingen naar CSS, wat extra handig is in het geval van updates.

### Werken met design tokens

Meer weten over werken met design tokens? In onderstaande video vertelt Yolijn meer over uitbreiden van bestaande design tokens met jouw designkeuzes.

<VideoPlayer videoId="-guAi7Lvl6g" />
