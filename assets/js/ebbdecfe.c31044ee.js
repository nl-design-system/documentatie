'use strict';
(globalThis.webpackChunk_nl_design_system_website = globalThis.webpackChunk_nl_design_system_website || []).push([
 [33187],
 {
  85248: (e, n, t) => {
   t.d(n, { R: () => r, x: () => i });
   var o = t(30758);
   const a = {},
    s = o.createContext(a);
   function r(e) {
    const n = o.useContext(s);
    return o.useMemo(
     function () {
      return 'function' == typeof e ? e(n) : { ...n, ...e };
     },
     [n, e],
    );
   }
   function i(e) {
    let n;
    return (n = e.disableParentContext ? ('function' == typeof e.components ? e.components(a) : e.components || a) : r(e.components)), o.createElement(s.Provider, { value: n }, e.children);
   }
  },
  90441: (e, n, t) => {
   t.r(n), t.d(n, { assets: () => c, contentTitle: () => i, default: () => h, frontMatter: () => r, metadata: () => o, toc: () => d });
   const o = JSON.parse('{"id":"handboek/developer/component-testen","title":"Componenten testen \xb7 Developer \xb7 Handboek","description":"Eigen componenten testen","source":"@site/docs/handboek/developer/15-component-testen.md","sourceDirName":"handboek/developer","slug":"/handboek/developer/component-testen","permalink":"/handboek/developer/component-testen","draft":false,"unlisted":false,"editUrl":"https://github.com/nl-design-system/documentatie/tree/main/docs/handboek/developer/15-component-testen.md","tags":[],"version":"current","sidebarPosition":15,"frontMatter":{"title":"Componenten testen \xb7 Developer \xb7 Handboek","hide_title":true,"hide_table_of_contents":false,"sidebar_label":"Componenten testen","pagination_label":"Componenten testen","description":"Eigen componenten testen","keywords":["developer","bijdragen","componenten testen","css component testen","react.js component testen"]},"sidebar":"handboek","previous":{"title":"Tips voor het bijdragen aan componenten","permalink":"/handboek/developer/bijdragen"},"next":{"title":"API conventie","permalink":"/handboek/developer/api-conventie"}}');
   var a = t(86070),
    s = t(85248);
   const r = { title: 'Componenten testen \xb7 Developer \xb7 Handboek', hide_title: !0, hide_table_of_contents: !1, sidebar_label: 'Componenten testen', pagination_label: 'Componenten testen', description: 'Eigen componenten testen', keywords: ['developer', 'bijdragen', 'componenten testen', 'css component testen', 'react.js component testen'] },
    i = 'Componenten testen',
    c = {},
    d = [
     { value: 'Testen op uitbreidbaarheid', id: 'testen-op-uitbreidbaarheid', level: 2 },
     { value: 'Classes', id: 'classes', level: 3 },
     { value: 'HTML-content in componenten', id: 'html-content-in-componenten', level: 2 },
     { value: 'Maak native HTML niet kapot', id: 'maak-native-html-niet-kapot', level: 2 },
     { value: 'Globale attributen', id: 'globale-attributen', level: 3 },
     { value: 'Het <code>hidden</code> attribuut', id: 'het-hidden-attribuut', level: 3 },
     { value: 'De className property', id: 'de-classname-property', level: 2 },
     { value: 'Test de accessibility tree', id: 'test-de-accessibility-tree', level: 2 },
     { value: 'Landmarks', id: 'landmarks', level: 3 },
     { value: 'Label voor landmarks', id: 'label-voor-landmarks', level: 3 },
     { value: 'States', id: 'states', level: 2 },
    ];
   function l(e) {
    const n = { a: 'a', code: 'code', h1: 'h1', h2: 'h2', h3: 'h3', header: 'header', li: 'li', p: 'p', pre: 'pre', ul: 'ul', ...(0, s.R)(), ...e.components };
    return (0, a.jsxs)(a.Fragment, { children: [(0, a.jsx)(n.header, { children: (0, a.jsx)(n.h1, { id: 'componenten-testen', children: 'Componenten testen' }) }), '\n', (0, a.jsx)(n.p, { children: 'Op deze pagina vind je tips om componenten te testen op de juiste aspecten. De meeste voorbeelden zijn uitgewerkt voor React.js met React Testing Library, maar kunnen soms op andere frameworks toegepast worden.' }), '\n', (0, a.jsx)(n.h2, { id: 'testen-op-uitbreidbaarheid', children: 'Testen op uitbreidbaarheid' }), '\n', (0, a.jsxs)(n.p, { children: ['Zoals op de ', (0, a.jsx)(n.a, { href: '/handboek/developer/bijdragen/', children: 'bijdragen pagina' }), ' staat, is uitbreidbaarheid belangrijk. Hieronder lees je hoe je dit test.'] }), '\n', (0, a.jsx)(n.h3, { id: 'classes', children: 'Classes' }), '\n', (0, a.jsx)(n.p, { children: "Front-end developers vertrouwen op de BEM classnames om hun eigen CSS toe te voegen. Wanneer de component een classname hernoemt of verwijdert, is er sprake van een 'breaking change'. Unit tests moeten elke classname controleren, zodat het betrouwbare API's zijn. Je zult veel tests zoals deze tegenkomen:" }), '\n', (0, a.jsx)(n.pre, { children: (0, a.jsx)(n.code, { className: 'language-javascript', children: 'it("renders a design system BEM class name: my-component", () => {\n  const { container } = render(<MyComponent />);\n\n  const field = container.querySelector("div");\n\n  expect(field).toHaveClass(".my-component");\n});\n' }) }), '\n', (0, a.jsx)(n.h2, { id: 'html-content-in-componenten', children: 'HTML-content in componenten' }), '\n', (0, a.jsx)(n.p, { children: 'Tekst in componenten kan soms worden verbeterd met markup: taalmetadata, code, nadruk of afbeeldingen. Elke property die in de HTML terechtkomt, moet worden getest op uitbreidbaarheid met rich text-content.' }), '\n', (0, a.jsx)(n.pre, { children: (0, a.jsx)(n.code, { className: 'language-javascript', children: 'it("renders rich text content", () => {\n  const { container } = render(\n    <Heading1 {...defaultProps}>\n      Wat Nederlandse tekst: <span lang="nl">aap, noot, mies</span>\n    </Heading1>,\n  );\n\n  const richText = container.querySelector("span");\n\n  expect(richText).toBeInTheDocument();\n});\n' }) }), '\n', (0, a.jsx)(n.p, { children: 'Het testen van properties is misschien nog wel belangrijker, omdat children meestal al HTML-content toestaat:' }), '\n', (0, a.jsx)(n.pre, { children: (0, a.jsx)(n.code, { className: 'language-javascript', children: "it('renders rich text content', () => {\n  const { container } = render(\n    <FormFieldTextbox label={\n      <EmailIcon/> E-mailadres\n    }></FormFieldTextbox>,\n  );\n\n  const richText = container.querySelector('svg');\n\n  expect(richText).toBeInTheDocument();\n});\n" }) }), '\n', (0, a.jsx)(n.h2, { id: 'maak-native-html-niet-kapot', children: 'Maak native HTML niet kapot' }), '\n', (0, a.jsx)(n.h3, { id: 'globale-attributen', children: 'Globale attributen' }), '\n', (0, a.jsxs)(n.p, { children: ['Zoals aangegeven in ', (0, a.jsx)(n.a, { href: '/handboek/developer/api-conventie/#componenten-voor-html', children: 'de API conventie voor componenten voor HTML' }), ' moeten ', (0, a.jsx)(n.a, { href: 'https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes', children: 'Globale HTML-attributen' }), ' hun normale gedrag behouden. In React kun je alle overige, niet-gespecificeerde properties opvangen met de zogenaamde rest-operator (meestal door ', (0, a.jsx)(n.code, { children: '..restProps' }), ' te spreaden):'] }), '\n', (0, a.jsx)(n.pre, { children: (0, a.jsx)(n.code, { className: 'language-jsx', children: '({ someProp, ...restProps });\n' }) }), '\n', (0, a.jsxs)(n.p, { children: ['De ', (0, a.jsx)(n.code, { children: 'someProp' }), ' wordt expliciet uit het object gehaald, terwijl ', (0, a.jsx)(n.code, { children: 'restProps' }), ' een object bevat met alle overige properties die aan het component zijn doorgegeven.'] }), '\n', (0, a.jsx)(n.p, { children: 'Daardoor kun je bijvoorbeeld alle globale HTML-attributen automatisch doorgeven aan het onderliggende HTML-element:' }), '\n', (0, a.jsx)(n.pre, { children: (0, a.jsx)(n.code, { className: 'language-jsx', children: 'const MyComponent = ({ someProp, ...restProps }) => {\n  return <div {...restProps}>{someProp}</div>;\n};\n' }) }), '\n', (0, a.jsxs)(n.p, { children: ['Zo worden alle HTML-attributen (zoals ', (0, a.jsx)(n.code, { children: 'id' }), ', ', (0, a.jsx)(n.code, { children: 'className' }), ', ', (0, a.jsx)(n.code, { children: 'data-*' }), ', ', (0, a.jsx)(n.code, { children: 'aria-*' }), ', etc.) die je op ', (0, a.jsx)(n.code, { children: '<MyComponent>' }), ' zet automatisch op de ', (0, a.jsx)(n.code, { children: '<div>' }), ' toegepast.'] }), '\n', (0, a.jsx)(n.pre, { children: (0, a.jsx)(n.code, { className: 'language-XML', children: '<MyComponent id="main" />\n<MyComponent style={{ \'--my-component-color\': \'currentColor\' }} />\n<MyComponent hidden />\n<MyComponent tabIndex={-1} />\n<MyComponent lang="en" />\n<MyComponent className="custom" />\n<MyComponent data-test-id="component" />\n<MyComponent role="group" />\n' }) }), '\n', (0, a.jsxs)(n.h3, { id: 'het-hidden-attribuut', children: ['Het ', (0, a.jsx)(n.code, { children: 'hidden' }), ' attribuut'] }), '\n', (0, a.jsxs)(n.p, { children: ['De CSS voor een component breekt vaak het ', (0, a.jsx)(n.code, { children: 'hidden' }), '-attribuut, omdat code zoals ', (0, a.jsx)(n.code, { children: 'display: flex' }), ' de standaardstijlen overschrijft. Test of het ', (0, a.jsx)(n.code, { children: 'hidden' }), '-attribuut het HTML-element nog steeds onzichtbaar maakt.'] }), '\n', (0, a.jsx)(n.pre, { children: (0, a.jsx)(n.code, { className: 'language-javascript', children: 'it("can be hidden", () => {\n  const { container } = render(<MyComponent hidden />);\n\n  const component = container.querySelector("div");\n\n  expect(component).not.toBeVisible();\n});\n' }) }), '\n', (0, a.jsx)(n.h2, { id: 'de-classname-property', children: 'De className property' }), '\n', (0, a.jsx)(n.p, { children: 'Componenten renderen BEM classnames, maar front-end developers moeten ook hun eigen classnames kunnen toevoegen. Extra classnames moeten de lijst van classnames uitbreiden, niet de classnames van de component overschrijven.' }), '\n', (0, a.jsx)(n.p, { children: 'Bijvoorbeeld:' }), '\n', (0, a.jsx)(n.pre, { children: (0, a.jsx)(n.code, { className: 'language-javascript', children: 'import clsx from "clsx";\n\nconst MyComponent = ({ className, children }) => {\n  return <div className={clsx("my-component", className)}>{children}</div>;\n};\n' }) }), '\n', (0, a.jsx)(n.p, { children: 'Dit rendert:' }), '\n', (0, a.jsx)(n.pre, { children: (0, a.jsx)(n.code, { className: 'language-html', children: '<div class="my-component large"\n' }) }), '\n', (0, a.jsx)(n.p, { children: 'De class "my-component" wordt dus niet overschreven, maar uitgebreid. Vervolgens kun je valideren in een automatische test of dit klopt:' }), '\n', (0, a.jsx)(n.pre, { children: (0, a.jsx)(n.code, { className: 'language-javascript', children: 'it("can have a additional class name", () => {\n  const { container } = render(<MyComponent className="large" />);\n\n  const component = container.querySelector(":only-child");\n\n  expect(component).toHaveClass("large");\n  expect(component).toHaveClass("my-component");\n});\n' }) }), '\n', (0, a.jsx)(n.h2, { id: 'test-de-accessibility-tree', children: 'Test de accessibility tree' }), '\n', (0, a.jsxs)(n.p, { children: ['Om te valideren of de accessibilty ', (0, a.jsx)(n.code, { children: 'role' }), 's goed ingesteld staan kun je automatische tests schrijven.'] }), '\n', (0, a.jsx)(n.h3, { id: 'landmarks', children: 'Landmarks' }), '\n', (0, a.jsx)(n.pre, { children: (0, a.jsx)(n.code, { className: 'language-javascript', children: 'it("renders an complementary role element", () => {\n  render(<Aside />);\n\n  const aside = screen.getByRole("complementary");\n\n  expect(aside).toBeInTheDocument();\n});\n' }) }), '\n', (0, a.jsx)(n.h3, { id: 'label-voor-landmarks', children: 'Label voor landmarks' }), '\n', (0, a.jsx)(n.p, { children: 'Sommige componenten hebben een API om het label te configureren:' }), '\n', (0, a.jsx)(n.pre, { children: (0, a.jsx)(n.code, { className: 'language-javascript', children: 'it("renders a complementary role element with a name", () => {\n  render(<BreadcrumbNav label="Breadcrumbs" />);\n\n  const nav = screen.getByRole("navigation", { name: "Breadcrumbs" });\n\n  expect(nav).toBeInTheDocument();\n});\n' }) }), '\n', (0, a.jsx)(n.p, { children: 'Andere componenten moeten vertrouwen op aria-labelledby of aria-label.' }), '\n', (0, a.jsx)(n.pre, { children: (0, a.jsx)(n.code, { className: 'language-javascript', children: "it('renders a complementary role element with a name', () => {\n  render(\n    <Aside aria-labelledby=\"heading\">\n      <h2 id=\"heading\">See also</h1>\n    </Aside>\n  );\n\n  const aside = screen.getByRole('complementary', { name: 'See also' });\n\n  expect(aside).toBeInTheDocument();\n});\n" }) }), '\n', (0, a.jsx)(n.h2, { id: 'states', children: 'States' }), '\n', (0, a.jsxs)(n.p, { children: ['Voor ', (0, a.jsx)(n.a, { href: '/wcag/4.1.2/', children: 'WCAG 4.1.2' }), " is het belangrijk dat de state (toestand) van componenten beschikbaar is in de accessibility tree. Testing Library heeft API's om de informatie uit de accessibility tree op te vragen, in plaats van via de DOM."] }), '\n', (0, a.jsx)(n.p, { children: 'Voorbeelden van state zijn:' }), '\n', (0, a.jsxs)(n.ul, { children: ['\n', (0, a.jsx)(n.li, { children: 'Een checkbox die checked (aangevinkt) is.' }), '\n', (0, a.jsx)(n.li, { children: 'Een textbox die disabled (uitgeschakeld) is.' }), '\n', (0, a.jsx)(n.li, { children: 'Een textarea die required (vereist) is.' }), '\n', (0, a.jsx)(n.li, { children: 'Een button die expanded (uitgeklapt) is.' }), '\n'] }), '\n', (0, a.jsx)(n.pre, { children: (0, a.jsx)(n.code, { className: 'language-javascript', children: 'describe("checked variant", () => {\n  it("is not checked by default", () => {\n    const { container } = render(<Checkbox />);\n\n    const checkbox = screen.getByRole("checkbox");\n\n    expect(checkbox).not.toBeChecked();\n  });\n\n  it("can have a checked state", () => {\n    const handleChange = () => {};\n    render(<Checkbox checked onChange={handleChange} />);\n\n    const checkbox = screen.getByRole("checkbox");\n\n    expect(checkbox).toBeChecked();\n  });\n\n  it("can have a defaultChecked state (in React)", () => {\n    render(<Checkbox defaultChecked />);\n\n    const checkbox = screen.getByRole("checkbox");\n\n    expect(checkbox).toBeChecked();\n  });\n});\n' }) }), '\n', (0, a.jsxs)(n.p, { children: ['Helaas ondersteunt Testing Library nog niet elke state in de accessibility tree. Maak alvast wel de test, maar sla de test over middels een ', (0, a.jsx)(n.code, { children: 'todo' }), '. Gebruik de DOM om de test op een alternatieve manier te doen.'] }), '\n', (0, a.jsx)(n.pre, { children: (0, a.jsx)(n.code, { className: 'language-javascript', children: '// `aria-disabled` is somehow not recognized as disabled state on a listbox by Testing Library\n// https://github.com/testing-library/jest-dom/issues/144\nit.todo("has a disabled listbox in the accessibility tree", () => {});\n\n// Temporary alternative to the accessibility tree test\nit("has a disabled listbox", () => {\n  render(<Listbox disabled />);\n\n  const listbox = screen.getByRole("listbox");\n\n  // Look at the DOM instead of the accessibility tree\n  expect(listbox).toHaveAttribute("aria-disabled", "true");\n});\n' }) }), '\n', (0, a.jsx)(n.p, { children: 'Controleer periodiek of een nieuwe versie van Testing Library de state wel ondersteunt.' })] });
   }
   function h(e = {}) {
    const { wrapper: n } = { ...(0, s.R)(), ...e.components };
    return n ? (0, a.jsx)(n, { ...e, children: (0, a.jsx)(l, { ...e }) }) : l(e);
   }
  },
 },
]);
